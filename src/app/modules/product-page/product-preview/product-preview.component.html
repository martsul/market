<section class="product-preview">
  <div class="container">
    <app-product-images
      [images]="product().data?.images || []"
      [isLoaded]="isLoaded()"
    />
    @defer (when isLoaded()) {
    <div class="product-preview__info">
      <h1 class="product-preview__title">{{ product().data!.title }}</h1>
      <app-star-rating
        [rating]="product().data!.rating"
        class="product-preview__rating"
      />
      <app-product-price
        [data]="{
          price: product().data!.price,
          discount: product().data!.discountPercentage
        }"
        class="product-preview__price"
      />
      <p class="product-preview__description">
        {{ product().data!.description }}
      </p>
      <div class="product-preview__buttons">
        <app-count-button class="product-preview__counter" />
        <app-button
          class="product-preview__add"
          [buttonData]="{ color: 'dark', text: 'Add to Cart' }"
        />
      </div>
    </div>
    } @placeholder {
    <div class="skeleton">
      <ngx-skeleton-loader
        appearance="line"
        [theme]="{
          width: '100%',
          height: '40px',
          'margin-bottom': ' 10px'
        }"
      ></ngx-skeleton-loader>
      <ngx-skeleton-loader
        appearance="line"
        [theme]="{
          width: '150px',
          height: '19px',
          'margin-bottom': ' 12px'
        }"
      ></ngx-skeleton-loader>
      <ngx-skeleton-loader
        appearance="line"
        [theme]="{
          width: '50%',
          height: '24px',
          'margin-bottom': ' 17px'
        }"
      ></ngx-skeleton-loader>
      <ngx-skeleton-loader
        appearance="line"
        [theme]="{
          width: '100%',
          height: '120px',
          'margin-bottom': ' 0'
        }"
      ></ngx-skeleton-loader>
    </div>
    }
  </div>
</section>
